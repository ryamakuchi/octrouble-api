<h2>Octrouble API</h2>
<p>
  <a
    href="https://rubygems.org/gems/octrouble"
    target="_blank"
  >
    Octrouble
  </a>
  は GitHub API から Issue のデータを取得できる CLI アプリケーションです。
</p>

<h3>Octrouble を試してみる</h3>

<p>
  GitHub リポジトリの URL を入力して検索すると、該当のリポジトリの Issues が取得できます。
</p>

<% if @url.blank? %>
  <p>
    検索したいリポジトリを入力してください（URL or user/repo）
  </p>
<% end %>

<%= form_tag('/', method: 'get') do %>
  <%= label_tag(:url, '$ bundle exec octrouble issues') %>
  <%= text_field_tag(:url) %>
  <%= submit_tag('Search', name: nil) %>
<% end %>

<% if @url.present? %>
  <h3>
    <%= @url %>
    <span>の検索結果</span>
  </h3>

  <p>
    <%= @message %>
  </p>

  <p>
    <%= simple_format(h(@result)) %>
  </p>
<% end %>
